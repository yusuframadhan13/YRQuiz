<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
    <link rel="icon" href="asset/img/logo pasundan.png" type = "image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,300,0,0" />
    <link rel="stylesheet" href="asset/css/style.css">
    <title>YRQuiz</title>
</head>
<body>
    <main>
        <div id="container">
            <div id="content_love"></div>
            <div id="modal">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16" id="svg_success">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16" id="svg_gagal">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                    </svg> 
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-emoji-frown-fill" viewBox="0 0 16 16" id="svg_emot">
                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm-2.715 5.933a.5.5 0 0 1-.183-.683A4.498 4.498 0 0 1 8 9.5a4.5 4.5 0 0 1 3.898 2.25.5.5 0 0 1-.866.5A3.498 3.498 0 0 0 8 10.5a3.498 3.498 0 0 0-3.032 1.75.5.5 0 0 1-.683.183zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"/>
                    </svg>
                    <h3 id="pesan_alert">Yahh Kamu Kehabisan Hati</h3>
                    <button onclick="tambahHati()">Tambahkan 2 Hati</button>
                </span>
            </div>
            <div id="modal_hasil">
                <ul>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16" id="" style="color: rgb(184, 0, 0);">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                        </svg><h3 id="jumlah_gagal"></h3>
                    </li>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16" id="" style="color: rgb(0, 170, 0);">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg><h3 id="jumlah_berhasil"></h3>
                    </li>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16" style="color:rgb(221, 0, 0)">
                            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                        </svg><h3 id="jumlah_hati"></h3>
                    </li>
                </ul>
            </div>
            <div id="quiz-container">
                <h3 id="question">Pertanyaan akan muncul di sini</h3>
                <img src="asset/img/logo-2.png" id="image_question">
                <ul id="choices">
                    <li><input type="radio" name="choice" value="A"> Jawaban A</li>
                    <li><input type="radio" name="choice" value="B"> Jawaban B</li>
                    <li><input type="radio" name="choice" value="C"> Jawaban C</li>
                </ul>
                <button id="submit" class="false">Submit</button>
            </div>
        </div>
    </main>
    <footer>
        <p><b>&copy; 2023, Yusuf Ramadhan</b></p>
        <button><a href="https://www.youtube.com/@YRtekno_">YRtekno Channel</a></button>
    </footer>

  <script>
    const questions = [
        {
            No: "1",
            question: "Kota Apakah ini... ?",
            image: "asset/img/bandung.jpg",
            choices: ["Jakarta", "Bandung", "Bekasi"],
            correctAnswer: "Bandung"
        },
        {
            No: "2",
            question: "Kota Apakah ini... ?",
            image: "asset/img/jakarta.jpg",
            choices: ["Jakarta", "Bogor", "Bandung"],
            correctAnswer: "Jakarta"
        },
        {
            No: "3",
            question: "Kota Apakah ini... ?",
            image: "asset/img/bogor.png",
            choices: ["Bekasi", "Tasik", "Bogor"],
            correctAnswer: "Bogor"
        },
        {
            No: "4",
            question: "Negara Apakah ini... ?",
            image: "asset/img/jordan.jpg",
            choices: ["Palestine", "Jordan", "Sudan"],
            correctAnswer: "Jordan"
        },
        {
            No: "5",
            question: "Negara Apakah ini... ?",
            image: "asset/img/palestine.jpg",
            choices: ["Palestine", "Jordan", "Sudan"],
            correctAnswer: "Palestine"
        },
        {
            No: "6",
            question: "Negara Apakah ini... ?",
            image: "asset/img/yemen.jpg",
            choices: ["Iraq", "Yemen", "Egypt"],
            correctAnswer: "Yemen"
        },
        {
            No: "7",
            question: "Negara Apakah ini... ?",
            image: "asset/img/bahrain.jpg",
            choices: ["Qatar", "Yemen", "Bahrain"],
            correctAnswer: "Bahrain"
        },
        {
            No: "8",
            question: "Negara Apakah ini... ?",
            image: "asset/img/korea_utara.jpg",
            choices: ["Korea Selatan", "Korea Utara", "Prancis"],
            correctAnswer: "Korea Utara"
        },
       
    ];

    const quizContainer = document.getElementById("quiz-container"); 
    const questionElement = document.getElementById("question");
    const imageElement = document.querySelector("#image_question");
    const choicesElement = document.getElementById("choices");

    const submitButton = document.querySelector("#submit");
    const resultsElement = document.getElementById("results");

    let currentQuestionIndex = 0;
    let score = 10;
    let love = 4;

    function displayQuestion() {
        const currentQuestion = questions[currentQuestionIndex]; 

        const slide = currentQuestionIndex+1 +"/"+questions.length;
        questionElement.textContent = slide + ". " + currentQuestion.question;
        
        imageElement.src = currentQuestion.image;

        choicesElement.innerHTML = "";
        
        for (let i = 0; i < currentQuestion.choices.length; i++) {
            const choice = currentQuestion.choices[i];
            const choiceItem = document.createElement("li");
            choiceItem.innerHTML = `<input type="radio" name="choice" value="${choice}"><p> ${choice}</p>`;
            choicesElement.appendChild(choiceItem);
        }
    }

    const modal = document.querySelector("#modal");
    const svg_success = document.querySelector("#svg_success");
    const svg_gagal = document.querySelector("#svg_gagal");
    const svg_emot = document.querySelector("#svg_emot");
    const pesan_alert = document.querySelector("#pesan_alert");
    let count = 4;

    function checkAnswer() {

        if(submitButton.className == "true"){
            currentQuestionIndex ++;

            if(currentQuestionIndex < questions.length){
                displayQuestion();
            }else {
                document.querySelector("#modal_hasil").style.display = "flex";
                modal_hasil();
            }

            submitButton.setAttribute("class", false);

            if(submitButton.className == "false"){
                submitButton.style.backgroundColor = "rgb(0, 137, 190)";
                submitButton.innerHTML = "Submit";
            }else {
                submitButton.style.backgroundColor = "rgb(1, 146, 1)";
            }
        }else {
            
            const selectedChoice = document.querySelector('input[name="choice"]:checked');
            const status = selectedChoice.value == questions[currentQuestionIndex].correctAnswer;
            
            if(status == true){

                let input_choice = document.querySelectorAll('input[name="choice"]');
                for(let i = 0; i < input_choice.length; i++){
                    if( input_choice[i] != selectedChoice ){
                        input_choice[i].parentElement.style.border = "none";
                        input_choice[i].parentElement.style.backgroundColor = "white";
                    }else {
                        selectedChoice.parentElement.style.border = "2px solid #40AF0B";
                        
                        selectedChoice.parentElement.style.backgroundColor = "#eaf7e6";
                    }
                }

                submitButton.setAttribute("class", true);
                submitButton.innerHTML = "Lanjutkan";
                submitButton.style.backgroundColor = "rgb(1, 146, 1)";
                document.querySelector("#modal span").style.backgroundColor = "transparent";
                document.querySelector("#modal").style.backgroundColor = "rgba(255, 255, 255, 0.726)";
                
                love = love;

                document.querySelector("#modal button").style.display = "none";
                modal.style.display = "flex";
                svg_success.style.display = "unset";
                pesan_alert.innerHTML = "";
                setTimeout(function(){
                    modal.style.display = "none";
                    svg_success.style.display = "none";
                }, 1000);
            }else {
                
                let input_choice = document.querySelectorAll('input[name="choice"]');
                for(let i = 0; i < input_choice.length; i++){
                    if( input_choice[i] != selectedChoice){
                        input_choice[i].parentElement.style.border = "none";
                        input_choice[i].parentElement.style.backgroundColor = "white";
                    }else {
                        selectedChoice.parentElement.style.border = "2px solid #af0b0b";
                        selectedChoice.parentElement.style.backgroundColor = "#ffe0e0";
                    }
                }

                submitButton.setAttribute("class", false);
                submitButton.innerHTML = "Coba Lagi";
                submitButton.style.backgroundColor = "rgb(187, 0, 0)";
                document.querySelector("#modal span").style.backgroundColor = "transparent";
                document.querySelector("#modal").style.backgroundColor = "rgba(255, 255, 255, 0.726)";
                
                // content_love.removeChild(content_love.firstElementChild);
                
                love--;

                if(love == 0){
                    modal.style.display = "flex";
                    svg_emot.style.display = "unset";
                    pesan_alert.innerHTML = "Kamu Kehabisan Hati";
                    content_love.innerHTML = "";
                    document.querySelector("#modal button").style.display = "unset";
                    document.querySelector("#modal span").style.backgroundColor = "white";
                    document.querySelector("#modal").style.backgroundColor = "white";
                }else {
                    total_kesalahan++;
                    
                    modal.style.display = "flex";
                    svg_gagal.style.display = "unset";
                    pesan_alert.innerHTML = "";
                    setTimeout(function(){
                        modal.style.display = "none";
                        svg_gagal.style.display = "none";
                    }, 1000);
                }
            }
        }

        
        const svg_hati = document.querySelectorAll("#content_love svg");
        
        let hasil = 4 - love;
        
        for(let i = 0; i < hasil; i++){
            svg_hati[i].style.color = "silver";
        }
    }

    const content_love = document.getElementById("content_love");
    const svgIcon = `
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
        </svg>`;

    function jumlah_hati(){
        for(let i = 1; i <= 4; i++ ){
            const svgElement = document.createElement("div");
            svgElement.innerHTML = svgIcon;
            content_love.appendChild(svgElement);
        }
    }

    function showResults() {
        quizContainer.style.display = "none";
        resultsElement.textContent = `Skor Anda: ${score} dari ${questions.length}`;
    }

    function tambahHati(){

        love = 2;

        jumlah_hati();
        
        let hasil = 4 - love;

        const svg_hati = document.querySelectorAll("#content_love svg");
        
        for(let i = 0; i < hasil; i++){
            svg_hati[i].style.color = "silver";
        }
        
        modal.style.display = "none";
        document.querySelector("#modal button").style.display = "none";
        svg_emot.style.display = "none";
    }

    let total_kesalahan = 0;

    function modal_hasil(){
        document.getElementById("jumlah_gagal").innerHTML = total_kesalahan +" x "+" Gagal ";
        document.getElementById("jumlah_berhasil").innerHTML = questions.length +" x "+" Behasil ";
        document.getElementById("jumlah_hati").innerHTML = love +" Hati "+" Tersisa ";
    }

    submitButton.addEventListener("click", checkAnswer);

    displayQuestion();

    jumlah_hati();

</script>
</body>
</html>
